<div [style.max-width]="wImg" class="movie-card">
  <div
    [style]="{
      width: wImg,
      height: hImg
    }"
    class="movie-card__poster"
    (click)="onPosterClick()"
  >
    <img
      [style]="{
        width: wImg,
        height: hImg
      }"
      [src]="getImageSrc()"
      [alt]="getAltText()"
    />
    <div *ngIf="hasScore" class="movie-card__score">
      {{ getScore() | score }}
      <span>%</span>
    </div>
    <div *ngIf="hasPlay" class="movie-card__play">
      <img
        src="../../../../../assets/icons/play-solid-full.svg"
        alt="play"
      />
    </div>
  </div>
  <div [style.color]="colorTitle" class="movie-card__title">
    {{ getTitle() }}
  </div>
  <div [style.color]="colorDate" class="movie-card__date">
    {{ getReleaseDate() | date : "MMM dd, yyyy" }}
  </div>
</div>

<!-- Popup hiển thị trailer -->
<div
  class="trailer-overlay"
  *ngIf="selectedTrailerKey"
  (click)="closeTrailer()"
>
  <div class="trailer-container" (click)="$event.stopPropagation()">
    <iframe
      width="100%"
      height="100%"
      [src]="getSafeTrailerUrl()"
      title="Trailer"
      frameborder="0"
      allowfullscreen
    ></iframe>
    <button class="trailer-close" (click)="closeTrailer()">✖</button>
  </div>
</div>